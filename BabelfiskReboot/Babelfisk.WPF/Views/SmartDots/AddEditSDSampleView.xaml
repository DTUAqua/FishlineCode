<UserControl x:Class="Babelfisk.WPF.Views.SmartDots.AddEditSDSampleView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:lan="urn:anchorcore-language-localization-ui"
             xmlns:aCtrls="clr-namespace:Anchor.Core.Controls;assembly=Anchor.Core.Controls"
             xmlns:cnv="clr-namespace:Babelfisk.WPF.Converters"
             xmlns:local="clr-namespace:Babelfisk.WPF.Views.SmartDots"
             xmlns:sys="clr-namespace:System;assembly=mscorlib"
             mc:Ignorable="d" 
             d:DesignHeight="1250" d:DesignWidth="800">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="../../Resources/Styles/GeneralStyles.xaml"/>
                <ResourceDictionary Source="../../Resources/Styles/InputStyles.xaml"/>
                <ResourceDictionary Source="../../Resources/Styles/GreenRedCheckBoxStyle.xaml"/>
                <ResourceDictionary Source="../../Resources/Styles/HeaderButtons.xaml"/>

                <ResourceDictionary>
                    <cnv:MarginConverter x:Key="cMargin" />

                    <Style x:Key="sViewHeaderStyle" TargetType="{x:Type Label}" BasedOn="{StaticResource ResourceKey=txtHeader}">
                        <Setter Property="Width" Value="160" />
                        <Setter Property="HorizontalContentAlignment" Value="Left" />
                    </Style>
                    
                    <Style x:Key="sViewComboboxStyle" TargetType="{x:Type ComboBox}" BasedOn="{StaticResource ResourceKey=baseInputBoxStyle}">
                        <Setter Property="Width" Value="250" />
                        <Setter Property="VerticalContentAlignment" Value="Center"/>
                    </Style>

                    <Style x:Key="sViewTextBoxStyle" TargetType="{x:Type TextBox}" BasedOn="{StaticResource ResourceKey=txtStandard}">
                        <Setter Property="Width" Value="250" />
                        <Setter Property="VerticalContentAlignment" Value="Center" />
                        <Setter Property="BorderBrush" Value="#E9E9E9" />
                    </Style>

                    <Style x:Key="sStaticTextStyle" TargetType="{x:Type TextBlock}">
                        <Setter Property="FontWeight" Value="Normal" />
                        <Setter Property="FontSize" Value="15"/>
                    </Style>

                    <Style x:Key="sViewDateStyle" TargetType="{x:Type aCtrls:DateTimePickerControl }" BasedOn="{StaticResource ResourceKey=baseInputBoxStyle}">
                        <Setter Property="Width" Value="195" />
                        <Setter Property="BorderBrush" Value="#E9E9E9" />
                    </Style>

                </ResourceDictionary>
                
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    <Border Background="White">
        <DockPanel>
            <Border DockPanel.Dock="Bottom" BorderBrush="LightGray" BorderThickness="0,1,0,0" Background="{StaticResource InputHeaderBackgroundRev}" TextBlock.Foreground="{StaticResource InputHeaderForeground}"  SnapsToDevicePixels="True">
                <DockPanel Margin="6">
                   
                    <!-- {lan:Translate Section=Common, Key=Cancel, UIDesignerValue='Cancel'} -->
                    <Button DockPanel.Dock="Right" Padding="25,3" Margin="0"
                            Style="{StaticResource ResourceKey=btnStandard}"
                            FontSize="14" 
                            Command="{Binding Path=CancelCommand}">
                        <DockPanel>
                            <TextBlock Text="{lan:Translate Section=Common, Key=Cancel, UIDesignerValue='Cancel'}" FontSize="14" VerticalAlignment="Center"   />
                        </DockPanel>
                    </Button>
                    <Button DockPanel.Dock="Right" Margin="0,0,6,0" Padding="25,3" MinWidth="100"
                            IsEnabled="{Binding Path=IsLoading, Converter={StaticResource cBoolToBoolNegation}}"
                            Style="{StaticResource ResourceKey=btnStandard}"
                            Command="{Binding Path=SaveCommand}">
                        <DockPanel>
                            <TextBlock Text="{lan:Translate Section=Common, Key=OK, UIDesignerValue='OK'}" FontSize="14" VerticalAlignment="Center"   />
                        </DockPanel>
                    </Button>
                    <StackPanel />
                </DockPanel>
            </Border>
            <Border DockPanel.Dock="Top" BorderBrush="LightGray" BorderThickness="0,0,0,1" Background="{StaticResource InputHeaderBackgroundRev}" TextBlock.Foreground="{StaticResource InputHeaderForeground}"  SnapsToDevicePixels="True">
                <Grid Margin="10">
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,0" >
                        <Image Opacity="0.95" Margin="0,0,8,0" Width="13" VerticalAlignment="Center" HorizontalAlignment="Center" Source="pack://application:,,,/Resources/Images/Common/EditPen.ico"  />
                        <TextBlock Text="{lan:Translate Section=SDSampleView, Key=AddRemoveSample, UIDesignerValue='Sample'}" Foreground="White" FontSize="16" LineHeight="16" LineStackingStrategy="BlockLineHeight" VerticalAlignment="Center"/>
                    </StackPanel>
                </Grid>
            </Border>
            <Grid>
                <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto" >
                    <DockPanel Margin="0,20"  HorizontalAlignment="Center" IsEnabled="{Binding Path=IsLoading, Converter={StaticResource cBoolToBoolNegation}}" >

                        <!-- Animal Id -->
                        <DockPanel DockPanel.Dock="Top" Margin="0,5,0,0"  >
                            <Label Content="{lan:Translate Section=SDSelectAnimalsView, Key=AnimalId, UIDesignerValue='Animal Id'}" DockPanel.Dock="Left" Style="{StaticResource ResourceKey=sViewHeaderStyle}" ToolTip="{lan:Translate Section=SDSelectAnimalsView, Key=AnimalId, UIDesignerValue='Animal Id'}" />
                            <StackPanel Orientation="Horizontal">
                                <TextBox Text="{Binding Path=AnimalId, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, TargetNullValue=''}" IsEnabled="{Binding Path=ReadOnly, Converter={StaticResource cBoolToBoolNegation}}"
                                Style="{StaticResource ResourceKey=sViewTextBoxStyle}" />
                                <Grid HorizontalAlignment="Left">
                                    <TextBlock Style="{StaticResource txtMandatoryField}" DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="1,5,-10,0"  />
                                </Grid>
                            </StackPanel>
                        </DockPanel>

                        <!-- Cruise -->
                        <DockPanel DockPanel.Dock="Top" Margin="0,5,0,0"  >
                            <Label Content="{lan:Translate Section=SDSelectAnimalsView, Key=Cruise, UIDesignerValue='Cruise'}" DockPanel.Dock="Left" Style="{StaticResource ResourceKey=sViewHeaderStyle}" ToolTip="{lan:Translate Section=SDSelectAnimalsView, Key=Cruise, UIDesignerValue='Cruise'}" />
                            <Grid HorizontalAlignment="Left">
                                <TextBlock Style="{StaticResource txtMandatoryField}" Visibility="Collapsed" DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="1,5,-10,0"  />
                                <TextBox Text="{Binding Path=Cruise, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, TargetNullValue=''}" IsEnabled="{Binding Path=ReadOnly, Converter={StaticResource cBoolToBoolNegation}}"
                             Style="{StaticResource ResourceKey=sViewTextBoxStyle}"  MaxLength="20" />
                            </Grid>
                        </DockPanel>

                        <!-- Trip -->
                        <DockPanel DockPanel.Dock="Top" Margin="0,5,0,0"  >
                            <Label Content="{lan:Translate Section=SDSelectAnimalsView, Key=Trip, UIDesignerValue='Trip'}" DockPanel.Dock="Left" Style="{StaticResource ResourceKey=sViewHeaderStyle}" ToolTip="{lan:Translate Section=SDSelectAnimalsView, Key=Trip, UIDesignerValue='Trip'}" />
                            <Grid HorizontalAlignment="Left">
                                <TextBlock Style="{StaticResource txtMandatoryField}" Visibility="Collapsed" DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="1,5,-10,0"  />
                                <TextBox Text="{Binding Path=Trip, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, TargetNullValue=''}" IsEnabled="{Binding Path=ReadOnly, Converter={StaticResource cBoolToBoolNegation}}"
                             Style="{StaticResource ResourceKey=sViewTextBoxStyle}"  MaxLength="10" />
                            </Grid>
                        </DockPanel>

                        <!-- Station -->
                        <DockPanel DockPanel.Dock="Top" Margin="0,5,0,0"  >
                            <Label Content="{lan:Translate Section=SDSelectAnimalsView, Key=Station, UIDesignerValue='Station'}" DockPanel.Dock="Left" Style="{StaticResource ResourceKey=sViewHeaderStyle}" ToolTip="{lan:Translate Section=SDSelectAnimalsView, Key=Station, UIDesignerValue='Station'}" />
                            <Grid HorizontalAlignment="Left">
                                <TextBlock Style="{StaticResource txtMandatoryField}" Visibility="Collapsed" DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="1,5,-10,0"  />
                                <TextBox Text="{Binding Path=Station, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, TargetNullValue=''}" IsEnabled="{Binding Path=ReadOnly, Converter={StaticResource cBoolToBoolNegation}}"
                             Style="{StaticResource ResourceKey=sViewTextBoxStyle}" MaxLength="6"/>
                            </Grid>
                        </DockPanel>

                        <!-- Catch date -->
                        <DockPanel DockPanel.Dock="Top" Margin="0,5,0,0" ToolTip="Please select a start date for the event">
                            <Label Content="{lan:Translate Section=SDSampleView, Key=CatchDate, UIDesignerValue='Catch date'}" DockPanel.Dock="Left"  Style="{StaticResource ResourceKey=sViewHeaderStyle}" ToolTip="{lan:Translate Section=SDSampleView, Key=CatchDate, UIDesignerValue='Catch date'}" />
                            <Grid HorizontalAlignment="Left">
                                <aCtrls:DateTimePickerControl Value="{Binding Path=CatchDate, Mode=TwoWay, ValidatesOnDataErrors=True, ValidatesOnExceptions=True}" 
                                                          Style="{StaticResource sViewDateStyle}" Format="dd-MM-yyyy HH:mm:ss" Padding="0,0,0,0" IsTimePickerVisible="True"
                                                          IsEnabled="{Binding Path=ReadOnly, Converter={StaticResource cBoolToBoolNegation}}"
                                                          ErrorInvalidKey="Ugyldig værdi" 
                                                          ErrorLessThan="Værdien skal være mindre end" 
                                                          ErrorOverstrike="Værdier kan overskrives, ikke slettes"
                                                          HorizontalAlignment="Left" InputStyle="{StaticResource txtValueNoMargin}" ></aCtrls:DateTimePickerControl>
                                <!-- star symbol
                                <TextBlock Style="{StaticResource txtMandatoryField}" DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="1,5,-10,0"  /> -->
                            </Grid>
                            <Grid HorizontalAlignment="Left">
                                <TextBlock Style="{StaticResource txtMandatoryField}" DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="1,5,-10,0"  />
                            </Grid>
                        </DockPanel>

                        <!-- DFU AREA -->
                        <DockPanel DockPanel.Dock="Top" Margin="0,5,0,0"  >
                            <Label Content="{lan:Translate Section=SDSampleView, Key=DFUAre, UIDesignerValue='DFU area'}" DockPanel.Dock="Left" Style="{StaticResource ResourceKey=sViewHeaderStyle}" ToolTip="{lan:Translate Section=SDSampleView, Key=DFUAre, UIDesignerValue='DFU Are'}" />
                            <StackPanel Orientation="Horizontal">
                                <aCtrls:FilteredComboBox FilterFromStart="True" 
                                             ItemsSource="{Binding Path=DFUAreas}"
                                             SelectedItem="{Binding Path=SelectedDFUArea, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
                                             DisplayMemberPath="UIDisplay" OpenOnFocus="False" DropDownWidth="{Binding Path=ActualWidth, RelativeSource={RelativeSource Mode=Self}}"
                                             MinimumSearchLength="1" IsEditable="True" IsTextSearchCaseSensitive="False"
                                             Style="{StaticResource sViewComboboxStyle}"
                                             VerticalAlignment="Center"
                                             IsEnabled="{Binding Path=ReadOnly, Converter={StaticResource cBoolToBoolNegation}}"
                                             />
                                <Grid DockPanel.Dock="Right">
                                    <Button  
                                        Command="{Binding Path=AddEditLookupsCommand}" CommandParameter="L_DFUArea"
                                        Template="{StaticResource ResourceKey=imageButton}" 
                                        Style="{StaticResource ResourceKey=dropDownButton}"
                                        ToolTip="{lan:Translate Section=AddEditSDSampleView, Key=AddEditDFUAreas, UIDesignerValue='Add/Edit DFU area'}"
                                        KeyboardNavigation.IsTabStop="False"
                                        >
                                        <Image Margin="5" VerticalAlignment="Center" Source="pack://application:,,,/Resources/Images/Common/EditKeyValues.ico" />
                                    </Button>
                                    <TextBlock Style="{StaticResource txtMandatoryField}" Visibility="Collapsed" DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="1,5,-11,0"  />
                                </Grid>
                                <Grid HorizontalAlignment="Left">
                                    <TextBlock Style="{StaticResource txtMandatoryField}" DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="1,5,-10,0"  />
                                </Grid>
                            </StackPanel>
                        </DockPanel>

                        <!-- Stat Rec -->
                        <DockPanel DockPanel.Dock="Top" Margin="0,5,0,0"  >
                            <Label Content="{lan:Translate Section=SDSampleView, Key=StatisticalRectangle, UIDesignerValue='Statistical rectangle'}" DockPanel.Dock="Left" Style="{StaticResource ResourceKey=sViewHeaderStyle}" ToolTip="{lan:Translate Section=SDSampleView, Key=StatisticalRectangle, UIDesignerValue='Statistical rectangle'}" />
                            <StackPanel Orientation="Horizontal">
                                <aCtrls:FilteredComboBox FilterFromStart="True" VerticalAlignment="Center"
                                             ItemsSource="{Binding Path=StatisticalRectangles}"
                                             SelectedItem="{Binding Path=SelectedStaticRectangle, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
                                             DisplayMemberPath="UIDisplay" OpenOnFocus="False" DropDownWidth="{Binding Path=ActualWidth, RelativeSource={RelativeSource Mode=Self}}"
                                             MinimumSearchLength="1" IsEditable="True" IsTextSearchCaseSensitive="False"
                                             Style="{StaticResource sViewComboboxStyle}"
                                             IsEnabled="{Binding Path=ReadOnly, Converter={StaticResource cBoolToBoolNegation}}"
                                             />
                                <Grid DockPanel.Dock="Right">
                                    <Button  
                                        Command="{Binding Path=AddEditLookupsCommand}" CommandParameter="L_StatisticalRectangle"
                                        Template="{StaticResource ResourceKey=imageButton}" 
                                        Style="{StaticResource ResourceKey=dropDownButton}"
                                        ToolTip="{lan:Translate Section=AddEditSDSampleView, Key=AddEditStatisticalRectangles, UIDesignerValue='Add/Edit statistical rectangles'}"
                                        KeyboardNavigation.IsTabStop="False"
                                        >
                                        <Image Margin="5" VerticalAlignment="Center" Source="pack://application:,,,/Resources/Images/Common/EditKeyValues.ico" />
                                    </Button>
                                    <TextBlock Style="{StaticResource txtMandatoryField}" Visibility="Collapsed" DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="1,5,-11,0"  />
                                </Grid>
                            </StackPanel>
                        </DockPanel>

                        <!-- Species -->
                        <DockPanel DockPanel.Dock="Top" Margin="0,5,0,0"  >
                            <Label Content="{lan:Translate Section=SDSampleView, Key=Species, UIDesignerValue='Species'}" DockPanel.Dock="Left" Style="{StaticResource ResourceKey=sViewHeaderStyle}" ToolTip="{lan:Translate Section=SDSampleView, Key=Stock, UIDesignerValue='Stock'}" />
                            <StackPanel Orientation="Horizontal">
                                <aCtrls:FilteredComboBox FilterFromStart="True" VerticalAlignment="Center"
                                             ItemsSource="{Binding Path=Species}"
                                             SelectedItem="{Binding Path=SelectedSpecies, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
                                             DisplayMemberPath="UIDisplay" OpenOnFocus="False" DropDownWidth="{Binding Path=ActualWidth, RelativeSource={RelativeSource Mode=Self}}"
                                             MinimumSearchLength="1" IsEditable="True" IsTextSearchCaseSensitive="False"
                                             Style="{StaticResource sViewComboboxStyle}"
                                             IsEnabled="{Binding Path=ReadOnly, Converter={StaticResource cBoolToBoolNegation}}" />
                                <Grid HorizontalAlignment="Left">
                                    <Button  
                                        Command="{Binding Path=AddEditLookupsCommand}" CommandParameter="L_Species"
                                        Template="{StaticResource ResourceKey=imageButton}" 
                                        Style="{StaticResource ResourceKey=dropDownButton}"
                                        ToolTip="{lan:Translate Section=AddEditSDSampleView, Key=AddEditSpecies, UIDesignerValue='Add/Edit species'}"
                                        KeyboardNavigation.IsTabStop="False">
                                        <Image Margin="5" VerticalAlignment="Center" Source="pack://application:,,,/Resources/Images/Common/EditKeyValues.ico" />
                                    </Button>
                                    <TextBlock Style="{StaticResource txtMandatoryField}" Visibility="Collapsed" DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="1,5,-10,0"  />
                                </Grid>
                            </StackPanel>
                        </DockPanel>

                        <!-- Stock ID -->
                        <DockPanel DockPanel.Dock="Top" Margin="0,5,0,0"  >
                            <Label Content="{lan:Translate Section=SDSampleView, Key=Stock, UIDesignerValue='Stock'}" DockPanel.Dock="Left" Style="{StaticResource ResourceKey=sViewHeaderStyle}" ToolTip="{lan:Translate Section=SDSampleView, Key=Stock, UIDesignerValue='Stock'}" />
                            <StackPanel Orientation="Horizontal">
                                <aCtrls:FilteredComboBox FilterFromStart="True" VerticalAlignment="Center"
                                             ItemsSource="{Binding Path=Stocks}"
                                             SelectedItem="{Binding Path=SelectedStock, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
                                             DisplayMemberPath="UIDisplay" OpenOnFocus="False" DropDownWidth="{Binding Path=ActualWidth, RelativeSource={RelativeSource Mode=Self}}"
                                             MinimumSearchLength="1" IsEditable="True" IsTextSearchCaseSensitive="False"
                                             Style="{StaticResource sViewComboboxStyle}"
                                             IsEnabled="{Binding Path=ReadOnly, Converter={StaticResource cBoolToBoolNegation}}" />
                                <Grid HorizontalAlignment="Left">
                                    <Button  
                                        Command="{Binding Path=AddEditLookupsCommand}" CommandParameter="L_Stock"
                                        Template="{StaticResource ResourceKey=imageButton}" 
                                        Style="{StaticResource ResourceKey=dropDownButton}"
                                        ToolTip="{lan:Translate Section=AddEditSDSampleView, Key=AddEditStocks, UIDesignerValue='Add/Edit stock'}"
                                        KeyboardNavigation.IsTabStop="False">
                                        <Image Margin="5" VerticalAlignment="Center" Source="pack://application:,,,/Resources/Images/Common/EditKeyValues.ico" />
                                    </Button>
                                    <TextBlock Style="{StaticResource txtMandatoryField}" Visibility="Collapsed" DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="1,5,-10,0"  />
                                </Grid>
                            </StackPanel>
                        </DockPanel>

                        <!-- Length -->
                        <DockPanel DockPanel.Dock="Top" Margin="0,5,0,0"  >
                            <Label Content="{lan:Translate Section=SDSampleView, Key=ColumnLength, UIDesignerValue='Length'}" DockPanel.Dock="Left" Style="{StaticResource ResourceKey=sViewHeaderStyle}" ToolTip="{lan:Translate Section=SDSampleView, Key=ColumnLength, UIDesignerValue='Length'}" />
                            <StackPanel Orientation="Horizontal">
                                <TextBox Text="{Binding Path=LengthMM, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, TargetNullValue=''}" IsEnabled="{Binding Path=ReadOnly, Converter={StaticResource cBoolToBoolNegation}}"
                             Style="{StaticResource ResourceKey=sViewTextBoxStyle}" />
                                <Grid HorizontalAlignment="Left">
                                    <TextBlock Style="{StaticResource txtMandatoryField}" DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="1,5,-10,0"  />
                                </Grid>
                            </StackPanel>
                        </DockPanel>

                        <!-- Weight -->
                        <DockPanel DockPanel.Dock="Top" Margin="0,5,0,0"  >
                            <Label Content="{lan:Translate Section=SDSampleView, Key=ColumnWeight, UIDesignerValue='Weight'}" DockPanel.Dock="Left" Style="{StaticResource ResourceKey=sViewHeaderStyle}" ToolTip="{lan:Translate Section=SDSampleView, Key=ColumnWeight, UIDesignerValue='Weight'}" />
                            <StackPanel Orientation="Horizontal">
                                <TextBox Text="{Binding Path=WeightG, UpdateSourceTrigger=LostFocus, ValidatesOnDataErrors=True, TargetNullValue='', Converter={StaticResource ResourceKey=cStringToDecimal}, ConverterParameter=4}" IsEnabled="{Binding Path=ReadOnly, Converter={StaticResource cBoolToBoolNegation}}"
                             Style="{StaticResource ResourceKey=sViewTextBoxStyle}" />
                                <Grid HorizontalAlignment="Left">
                                    <TextBlock Style="{StaticResource txtMandatoryField}" Visibility="Collapsed" DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="1,5,-10,0"  />
                                </Grid>
                            </StackPanel>
                        </DockPanel>
                        
                        <!-- Sex -->
                        <DockPanel DockPanel.Dock="Top" Margin="0,5,0,0"  >
                            <Label Content="{lan:Translate Section=SDSampleView, Key=Sex, UIDesignerValue='Sex'}" DockPanel.Dock="Left" Style="{StaticResource ResourceKey=sViewHeaderStyle}" ToolTip="{lan:Translate Section=SDSampleView, Key=Sex, UIDesignerValue='Sex'}" />

                            <StackPanel Orientation="Horizontal">
                                <aCtrls:FilteredComboBox FilterFromStart="True" 
                                             ItemsSource="{Binding Path=Sexes}"
                                             SelectedItem="{Binding Path=SelectedSexCode, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
                                             DisplayMemberPath="UIDisplay" OpenOnFocus="False" DropDownWidth="{Binding Path=ActualWidth, RelativeSource={RelativeSource Mode=Self}}"
                                             MinimumSearchLength="1" IsEditable="True" IsTextSearchCaseSensitive="False"
                                             Style="{StaticResource sViewComboboxStyle}"
                                             IsEnabled="{Binding Path=ReadOnly, Converter={StaticResource cBoolToBoolNegation}}"
                                             
                                             />

                                <Grid DockPanel.Dock="Right">
                                    <Button  
                                        Command="{Binding Path=AddEditLookupsCommand}" CommandParameter="L_SexCode"
                                        Template="{StaticResource ResourceKey=imageButton}" 
                                        Style="{StaticResource ResourceKey=dropDownButton}"
                                        ToolTip="{lan:Translate Section=AddEditSDSampleView, Key=AddEditSexCodes, UIDesignerValue='Add/Edit sex codes'}"
                                        KeyboardNavigation.IsTabStop="False"
                                        >
                                        <Image Margin="5" VerticalAlignment="Center" Source="pack://application:,,,/Resources/Images/Common/EditKeyValues.ico" />
                                    </Button>
                                    <TextBlock Style="{StaticResource txtMandatoryField}" Visibility="Collapsed" DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="1,5,-11,0"  />
                                </Grid>

                            </StackPanel>
                        </DockPanel>

                        <!-- Maturity -->
                        <DockPanel DockPanel.Dock="Top" Margin="0,5,0,0"  >
                            <Label Content="{lan:Translate Section=SDSampleView, Key=MaturityID, UIDesignerValue='Maturity'}" DockPanel.Dock="Left" Style="{StaticResource ResourceKey=sViewHeaderStyle}" ToolTip="{lan:Translate Section=SDSampleView, Key=MaturityID, UIDesignerValue='Maturity'}" />

                            <StackPanel Orientation="Horizontal">
                                <aCtrls:FilteredComboBox FilterFromStart="True" VerticalAlignment="Center"
                                             ItemsSource="{Binding Path=Maturities}"
                                             SelectedItem="{Binding Path=SelectedMaturity, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
                                             DisplayMemberPath="UIDisplay" OpenOnFocus="False" DropDownWidth="{Binding Path=ActualWidth, RelativeSource={RelativeSource Mode=Self}}"
                                             MinimumSearchLength="1" IsEditable="True" IsTextSearchCaseSensitive="False"
                                             Style="{StaticResource sViewComboboxStyle}"
                                             IsEnabled="{Binding Path=ReadOnly, Converter={StaticResource cBoolToBoolNegation}}"
                                             />

                                <Grid DockPanel.Dock="Right">
                                    
                                    <TextBlock Style="{StaticResource txtMandatoryField}" Visibility="Collapsed" DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="1,5,-11,0"  />
                                </Grid>

                            </StackPanel>
                        </DockPanel>

                        <!-- Otolith reading remark -->
                        <DockPanel DockPanel.Dock="Top" Margin="0,5,0,0"  >
                            <Label Content="{lan:Translate Section=SDSelectAnimalsView, Key=OtolithReadingRemark, UIDesignerValue='Otolith reading remark'}" DockPanel.Dock="Left" Style="{StaticResource ResourceKey=sViewHeaderStyle}" ToolTip="{lan:Translate Section=SDSelectAnimalsView, Key=OtolithReadingRemark, UIDesignerValue='Otolith reading remark'}" />

                            <StackPanel Orientation="Horizontal">
                                <aCtrls:FilteredComboBox FilterFromStart="True" VerticalAlignment="Center"
                                             ItemsSource="{Binding Path=OtolithReadingRemarks}"
                                             SelectedItem="{Binding Path=SelectedOtolithReadingRemark, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
                                             DisplayMemberPath="UIDisplay" OpenOnFocus="False" DropDownWidth="{Binding Path=ActualWidth, RelativeSource={RelativeSource Mode=Self}}"
                                             MinimumSearchLength="1" IsEditable="True" IsTextSearchCaseSensitive="False"
                                             Style="{StaticResource sViewComboboxStyle}"
                                             IsEnabled="{Binding Path=ReadOnly, Converter={StaticResource cBoolToBoolNegation}}"
                                             />

                                <Grid DockPanel.Dock="Right">
                                    <Button  
                                        Command="{Binding Path=AddEditLookupsCommand}" CommandParameter="L_OtolithReadingRemark"
                                        Template="{StaticResource ResourceKey=imageButton}" 
                                        Style="{StaticResource ResourceKey=dropDownButton}"
                                        ToolTip="{lan:Translate Section=AddEditSDSampleView, Key=AddEditOtolithReadingRemarks,UIDesignerValue='Add/Edit otolith reading remark'}"
                                        KeyboardNavigation.IsTabStop="False"
                                        >
                                        <Image Margin="5" VerticalAlignment="Center" Source="pack://application:,,,/Resources/Images/Common/EditKeyValues.ico" />
                                    </Button>
                                    <TextBlock Style="{StaticResource txtMandatoryField}" Visibility="Collapsed" DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="1,5,-11,0"  />
                                </Grid>

                            </StackPanel>
                        </DockPanel>

                        <!-- Preparation Method -->
                        <DockPanel DockPanel.Dock="Top" Margin="0,5,0,0"  >
                            <Label Content="{lan:Translate Section=SDSampleView, Key=PreparationMethod, UIDesignerValue='Preparation Method'}" DockPanel.Dock="Left" Style="{StaticResource ResourceKey=sViewHeaderStyle}" ToolTip="{lan:Translate Section=SDSampleView, Key=PreparationMethod, UIDesignerValue='Preparation Method'}" />
                            <StackPanel Orientation="Horizontal">
                                <aCtrls:FilteredComboBox FilterFromStart="True" VerticalAlignment="Center"
                                             ItemsSource="{Binding Path=PreparationMethods}"
                                             SelectedItem="{Binding Path=SelectedPreparationMethod, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
                                             DisplayMemberPath="UIDisplay" OpenOnFocus="False" DropDownWidth="{Binding Path=ActualWidth, RelativeSource={RelativeSource Mode=Self}}"
                                             MinimumSearchLength="1" IsEditable="True" IsTextSearchCaseSensitive="False"
                                             Style="{StaticResource sViewComboboxStyle}"
                                             IsEnabled="{Binding Path=ReadOnly, Converter={StaticResource cBoolToBoolNegation}}"
                                             />
                                <Grid DockPanel.Dock="Right">
                                    <Button  
                                        Command="{Binding Path=AddEditLookupsCommand}" CommandParameter="L_SDPreparationMethod"
                                        Template="{StaticResource ResourceKey=imageButton}" 
                                        Style="{StaticResource ResourceKey=dropDownButton}"
                                        ToolTip="{lan:Translate Section=AddEditSDSampleView, Key=AddEditPreparationMethods, UIDesignerValue='Add/Edit preparation methods'}"
                                        KeyboardNavigation.IsTabStop="False"
                                        >
                                        <Image Margin="5" VerticalAlignment="Center" Source="pack://application:,,,/Resources/Images/Common/EditKeyValues.ico" />
                                    </Button>
                                    <TextBlock Style="{StaticResource txtMandatoryField}" Visibility="Collapsed" DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="1,5,-11,0"  />
                                </Grid>
                                <Grid HorizontalAlignment="Left">
                                    <TextBlock Style="{StaticResource txtMandatoryField}" DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="1,5,-10,0"  />
                                </Grid>
                            </StackPanel>
                        </DockPanel>

                        <!-- Light type -->
                        <DockPanel DockPanel.Dock="Top" Margin="0,5,0,0"  >
                            <Label Content="{lan:Translate Section=SDSampleView, Key=LightType, UIDesignerValue='Light Type'}" DockPanel.Dock="Left" Style="{StaticResource ResourceKey=sViewHeaderStyle}" ToolTip="{lan:Translate Section=SDSampleView, Key=LightType, UIDesignerValue='Light Type'}" />

                            <StackPanel Orientation="Horizontal">
                                <aCtrls:FilteredComboBox FilterFromStart="True" VerticalAlignment="Center"
                                             ItemsSource="{Binding Path=LightTypes}"
                                             SelectedItem="{Binding Path=SelectedLightType, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
                                             DisplayMemberPath="UIDisplay" OpenOnFocus="False" DropDownWidth="{Binding Path=ActualWidth, RelativeSource={RelativeSource Mode=Self}}"
                                             MinimumSearchLength="1" IsEditable="True" IsTextSearchCaseSensitive="False"
                                             Style="{StaticResource sViewComboboxStyle}"
                                             IsEnabled="{Binding Path=ReadOnly, Converter={StaticResource cBoolToBoolNegation}}"
                                             />

                                <Grid DockPanel.Dock="Right">
                                    <Button  
                                        Command="{Binding Path=AddEditLookupsCommand}" CommandParameter="L_SDLightType"
                                        Template="{StaticResource ResourceKey=imageButton}" 
                                        Style="{StaticResource ResourceKey=dropDownButton}"
                                        ToolTip="{lan:Translate Section=AddEditSDSampleView, Key=AddEditLightTypes, UIDesignerValue='Add/Edit light type'}"
                                        KeyboardNavigation.IsTabStop="False"
                                        >
                                        <Image Margin="5" VerticalAlignment="Center" Source="pack://application:,,,/Resources/Images/Common/EditKeyValues.ico" />
                                    </Button>
                                    <TextBlock Style="{StaticResource txtMandatoryField}" Visibility="Collapsed" DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="1,5,-11,0"  />
                                </Grid>
                                <Grid HorizontalAlignment="Left">
                                    <TextBlock Style="{StaticResource txtMandatoryField}" DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="1,5,-10,0"  />
                                </Grid>
                            </StackPanel>
                        </DockPanel>

                        <!-- Otolith Description-->
                        <DockPanel DockPanel.Dock="Top" Margin="0,5,0,0"  >
                            <Label Content="{lan:Translate Section=SDSampleView, Key=OtolithDescription, UIDesignerValue='Otolith description'}" DockPanel.Dock="Left" Style="{StaticResource ResourceKey=sViewHeaderStyle}" ToolTip="{lan:Translate Section=SDSampleView, Key=OtolithDescription, UIDesignerValue='Otolith description'}" />
                            <StackPanel Orientation="Horizontal">
                                <aCtrls:FilteredComboBox FilterFromStart="True" VerticalAlignment="Center"
                                             ItemsSource="{Binding Path=OtolithDescriptions}"
                                             SelectedItem="{Binding Path=SelectedOtolithDescription, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
                                             DisplayMemberPath="UIDisplay" OpenOnFocus="False" DropDownWidth="{Binding Path=ActualWidth, RelativeSource={RelativeSource Mode=Self}}"
                                             MinimumSearchLength="1" IsEditable="True" IsTextSearchCaseSensitive="False"
                                             Style="{StaticResource sViewComboboxStyle}"
                                             IsEnabled="{Binding Path=ReadOnly, Converter={StaticResource cBoolToBoolNegation}}"
                                             />
                                <Grid DockPanel.Dock="Right">
                                    <Button  
                                        Command="{Binding Path=AddEditLookupsCommand}" CommandParameter="L_SDOtolithDescription"
                                        Template="{StaticResource ResourceKey=imageButton}" 
                                        Style="{StaticResource ResourceKey=dropDownButton}"
                                        ToolTip="{lan:Translate Section=AddEditSDSampleView, Key=AddEditOtolithDescriptions,UIDesignerValue='Add/Edit otolith descriptions'}"
                                        KeyboardNavigation.IsTabStop="False"
                                        >
                                        <Image Margin="5" VerticalAlignment="Center" Source="pack://application:,,,/Resources/Images/Common/EditKeyValues.ico" />
                                    </Button>
                                    <TextBlock Style="{StaticResource txtMandatoryField}" Visibility="Collapsed" DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="1,5,-11,0"  />
                                </Grid>

                            </StackPanel>
                        </DockPanel>

                        <!-- Edge structure -->
                        <DockPanel DockPanel.Dock="Top" Margin="0,5,0,0"  >
                            <Label Content="{lan:Translate Section=SDSelectAnimalsView, Key=EdgeStructure, UIDesignerValue='Edge structure'}" DockPanel.Dock="Left" Style="{StaticResource ResourceKey=sViewHeaderStyle}" ToolTip="{lan:Translate Section=SDSelectAnimalsView, Key=EdgeStructure, UIDesignerValue='Edge structure'}" />
                            <StackPanel Orientation="Horizontal">
                                <aCtrls:FilteredComboBox FilterFromStart="True" VerticalAlignment="Center"
                                             ItemsSource="{Binding Path=EdgeStructures}"
                                             SelectedItem="{Binding Path=SelectedEdgeStructure, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
                                             DisplayMemberPath="UIDisplay" OpenOnFocus="False" DropDownWidth="{Binding Path=ActualWidth, RelativeSource={RelativeSource Mode=Self}}"
                                             MinimumSearchLength="1" IsEditable="True" IsTextSearchCaseSensitive="False"
                                             Style="{StaticResource sViewComboboxStyle}"
                                             IsEnabled="{Binding Path=ReadOnly, Converter={StaticResource cBoolToBoolNegation}}"
                                             />
                                <Grid DockPanel.Dock="Right">
                                    <Button  
                                        Command="{Binding Path=AddEditLookupsCommand}" CommandParameter="L_EdgeStructure"
                                        Template="{StaticResource ResourceKey=imageButton}" 
                                        Style="{StaticResource ResourceKey=dropDownButton}"
                                        ToolTip="{lan:Translate Section=AddEditSDSampleView, Key=AddEditEdgeStructures, UIDesignerValue='Add/Edit edge structure'}"
                                        KeyboardNavigation.IsTabStop="False">
                                        <Image Margin="5" VerticalAlignment="Center" Source="pack://application:,,,/Resources/Images/Common/EditKeyValues.ico" />
                                    </Button>
                                    <TextBlock Style="{StaticResource txtMandatoryField}" Visibility="Collapsed" DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="1,5,-11,0"  />
                                </Grid>

                            </StackPanel>
                        </DockPanel>

                        <!-- Latitude -->
                        <DockPanel DockPanel.Dock="Top" Margin="0,5,0,0"  >
                            <Label Content="{lan:Translate Section=Common, Key=Latitude, UIDesignerValue='Latitude'}" DockPanel.Dock="Left" Style="{StaticResource ResourceKey=sViewHeaderStyle}" ToolTip="{lan:Translate Section=Common, Key=Latitude, UIDesignerValue='Latitude'}" />

                            <StackPanel Orientation="Horizontal">
                                <TextBox Text="{Binding Path=Latitude, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, TargetNullValue='', Converter={StaticResource ResourceKey=cStringToDouble}}" IsEnabled="{Binding Path=ReadOnly, Converter={StaticResource cBoolToBoolNegation}}"
                             Style="{StaticResource ResourceKey=sViewTextBoxStyle}" />
                                <Grid HorizontalAlignment="Left">

                                    <TextBlock Style="{StaticResource txtMandatoryField}" Visibility="Collapsed" DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="1,5,-10,0"  />
                                </Grid>
                            </StackPanel>
                           
                        </DockPanel>

                        <!-- Longitude -->
                        <DockPanel DockPanel.Dock="Top" Margin="0,5,0,0"  >
                            <Label Content="{lan:Translate Section=Common, Key=Longitude, UIDesignerValue='Longitude'}" DockPanel.Dock="Left" Style="{StaticResource ResourceKey=sViewHeaderStyle}" ToolTip="{lan:Translate Section=Common, Key=Longitude, UIDesignerValue='Longitude'}" />

                            <Grid HorizontalAlignment="Left">
                                <TextBlock Style="{StaticResource txtMandatoryField}" Visibility="Collapsed" DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="1,5,-10,0"  />
                                <TextBox Text="{Binding Path=Longitude, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, TargetNullValue='', Converter={StaticResource ResourceKey=cStringToDouble}}" IsEnabled="{Binding Path=ReadOnly, Converter={StaticResource cBoolToBoolNegation}}"
                             Style="{StaticResource ResourceKey=sViewTextBoxStyle}" />
                            </Grid>
                        </DockPanel>

                        
                        <!-- Created by -->
                        <DockPanel Margin="0,5,0,0" DockPanel.Dock="Top" >
                            <Label  Content="{lan:Translate Section=SDSampleView, Key=CreatedBy, UIDesignerValue='Created By'}"  DockPanel.Dock="Left" Style="{StaticResource ResourceKey=sViewHeaderStyle}" />
                            <StackPanel Orientation="Horizontal" Margin="2,0,0,0">
                                <TextBlock Text="{Binding Path=CreatedByUserName}"  VerticalAlignment="Center" Style="{StaticResource ResourceKey=sStaticTextStyle}" IsEnabled="{Binding Path=ReadOnly, Converter={StaticResource cBoolToBoolNegation}}" />
                            </StackPanel>
                        </DockPanel>

                        <!-- Created-->
                        <DockPanel Margin="0,5,0,0" DockPanel.Dock="Top" >
                            <Label  Content="{lan:Translate Section=Common, Key=Created, UIDesignerValue='Created'}"  DockPanel.Dock="Left" Style="{StaticResource ResourceKey=sViewHeaderStyle}" ToolTip="{lan:Translate Section=Common, Key=Created, UIDesignerValue='Created'}" />
                            <StackPanel Orientation="Horizontal" Margin="2,0,0,0">
                                <TextBlock Text="{Binding Path=Created, StringFormat='{}{0:dd-MM-yyyy HH:mm:ss}'}"  VerticalAlignment="Center" Style="{StaticResource ResourceKey=sStaticTextStyle}" />
                            </StackPanel>
                        </DockPanel>

                        <!-- Modified-->
                        <DockPanel Margin="0,5,0,0" DockPanel.Dock="Top" >
                            <Label  Content="{lan:Translate Section=Common, Key=Modified, UIDesignerValue='Modified'}"  DockPanel.Dock="Left" Style="{StaticResource ResourceKey=sViewHeaderStyle}" ToolTip="{lan:Translate Section=Common, Key=Mdified, UIDesignerValue='Modified'}" />
                            <StackPanel Orientation="Horizontal" Margin="2,0,0,0">
                                <TextBlock Text="{Binding Path=Modified, StringFormat='{}{0:dd-MM-yyyy HH:mm:ss}'}"  VerticalAlignment="Center" Style="{StaticResource ResourceKey=sStaticTextStyle}" />
                            </StackPanel>
                        </DockPanel>

                        <!-- Comment -->
                        <DockPanel DockPanel.Dock="Top" Margin="0,5,0,0"  >
                            <Label Content="{lan:Translate Section=Common, Key=Comments, UIDesignerValue='Comments'}" DockPanel.Dock="Left" Style="{StaticResource ResourceKey=sViewHeaderStyle}" ToolTip="{lan:Translate Section=Common, Key=Comments, UIDesignerValue='Comments'}" VerticalAlignment="Top" />

                            <Grid HorizontalAlignment="Left">

                                <TextBox Text="{Binding Path=Comments, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, TargetNullValue=''}" 
                                     Width="250"
                                     Height="50"
                                     AcceptsReturn="True" ScrollViewer.VerticalScrollBarVisibility="Visible" TextWrapping="Wrap"
                                     Style="{StaticResource ResourceKey=txtStandard}" 
                                     IsEnabled="{Binding Path=ReadOnly, Converter={StaticResource cBoolToBoolNegation}}"/>
                            </Grid>
                        </DockPanel>


                        <!-- Editing unlocked -->
                        <DockPanel DockPanel.Dock="Top"  Margin="0,5,0,0" >
                            <Grid >
                                <Label Content="{lan:Translate Section=SDSampleView, Key=EditingLocked, UIDesignerValue='Editing locked'}" DockPanel.Dock="Left" Style="{StaticResource sViewHeaderStyle}"  />
                                <Image HorizontalAlignment="Left" Source="pack://application:,,,/Resources/Images/Common/Lock.png" 
                                       Height="14" Margin="-5,0,0,-1" VerticalAlignment="Center" />
                            </Grid>

                            <CheckBox VerticalAlignment="Center" Foreground="Gray" IsChecked="{Binding Path=ReadOnly}" Margin="1,0,0,-2"  Style="{StaticResource sCheckBoxBigger}" >
                            </CheckBox>
                            
                        </DockPanel>


                        <!-- Sample Images -->
                        <DockPanel DockPanel.Dock="Top" Margin="0,8,0,0">

                            <StackPanel Orientation="Vertical">
                                <DockPanel Margin="0">
                                    <Label Content="{lan:Translate Section=SDSampleView, Key=SampleImage, UIDesignerValue='Sample images'}" DockPanel.Dock="Left" VerticalAlignment="Top"  Style="{StaticResource ResourceKey=sViewHeaderStyle}"/>

                                    <Grid Margin="2,0,0,0" HorizontalAlignment="Left">
                                        <Border Width="250" DockPanel.Dock="Left" HorizontalAlignment="Left" MinHeight="100" SnapsToDevicePixels="True" MaxHeight="150" Background="White" BorderBrush="LightGray" BorderThickness="1" CornerRadius="2">
                                            <ScrollViewer VerticalScrollBarVisibility="Auto">
                                                <Grid Margin="0,0,0,0" >
                                                    <DockPanel>
                                                        <aCtrls:AncDataGrid x:Name="dataGrid" ItemsSource="{Binding Path=SampleImages}"
                                                                            CanUserAddRows="False" IsSynchronizedWithCurrentItem="False" Background="White"
                                                                            AutoGenerateColumns="False" RowHeaderWidth="0" BorderThickness="0"
                                                                            SelectionMode="Extended" KeyboardNavigation.TabIndex="1" CanUserSortColumns="True" FooterVisibility="Collapsed"
                                                                            CanUserDeleteRows="False" CanUserResizeRows="False" HorizontalGridLinesBrush="LightGray" GridLinesVisibility="Horizontal"
                                                                            VerticalGridLinesBrush="LightGray" BorderBrush="LightGray" DockPanel.Dock="Top" RowDetailsVisibilityMode="Collapsed"
                                                                            VirtualizingStackPanel.VirtualizationMode="Recycling" 
                                                                            Tag="{Binding Path=DataContext, ElementName=uc}"
                                                                            CellFooterVisibility="Collapsed"
                                                                            HeadersVisibility="None">

                                                            <aCtrls:AncDataGrid.Resources>
                                                                <SolidColorBrush x:Key="{x:Static SystemColors.HighlightBrushKey}" Color="Transparent" Opacity="0.6"/>
                                                                <SolidColorBrush x:Key="{x:Static SystemColors.ControlBrushKey}" Color="Transparent"/>
                                                                <SolidColorBrush x:Key="{x:Static SystemColors.HighlightTextBrushKey}" Color="Black"/>
                                                                
                                                                <Style x:Key="StandardCellStyle" TargetType="{x:Type DataGridCell}" >
                                                                    <Setter Property="Template">
                                                                        <Setter.Value>
                                                                            <ControlTemplate TargetType="{x:Type DataGridCell}">
                                                                                <Border x:Name="Border" Height="{TemplateBinding Height}" Padding="{TemplateBinding Padding}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="0" Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
                                                                                    <ContentPresenter SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                                                                </Border>
                                                                            </ControlTemplate>
                                                                        </Setter.Value>
                                                                    </Setter>
                                                                </Style>
                                                            </aCtrls:AncDataGrid.Resources>
                                                            <aCtrls:AncDataGrid.RowStyle>
                                                                <Style TargetType="{x:Type DataGridRow}">
                                                                    <Setter Property="FontSize" Value="12" />
                                                                    <Setter Property="MinHeight" Value="30" />
                                                                    <Setter Property="VerticalContentAlignment" Value="Center" />
                                                                    <Setter Property="Tag" Value="{Binding Path=DataContext, ElementName=uc}" />
                                                                </Style>
                                                            </aCtrls:AncDataGrid.RowStyle>

                                                            <aCtrls:AncDataGrid.Columns>
                                                                <aCtrls:AncDataGridTemplateColumn SortMemberPath="" CellStyle="{StaticResource StandardCellStyle}" Width="*" >
                                                                    <aCtrls:AncDataGridTemplateColumn.CellTemplate>
                                                                        <DataTemplate>
                                                                            <DockPanel Background="Transparent" DataContext="{Binding }" ToolTipService.ShowDuration="30000">
                                                                                <DockPanel.ToolTip>
                                                                                    <ToolTip DataContext="{Binding Path=PlacementTarget.DataContext, RelativeSource={RelativeSource Self}}">
                                                                                        <Border>
                                                                                            <StackPanel Orientation="Vertical">
                                                                                                <TextBlock Text="{Binding Path=path}" />
                                                                                                <TextBlock Text="{Binding Path=displayName}" />
                                                                                            </StackPanel>
                                                                                        </Border>
                                                                                    </ToolTip>
                                                                                </DockPanel.ToolTip>
                                                                                
                                                                                <Image  Margin="8,0,8,0" Width="20" VerticalAlignment="Center" HorizontalAlignment="Center" Source="pack://application:,,,/Resources/Images/Common/Image.ico" DockPanel.Dock="Left"></Image>
                                                                               
                                                                                <Button Command="{Binding Path=DataContext.DeleteImageCommand, RelativeSource={RelativeSource AncestorType=UserControl}}" 
                                                                                        DockPanel.Dock="Right"
                                                                                        CommandParameter="{Binding .}" SnapsToDevicePixels="True" 
                                                                                        VerticalAlignment="Center" Margin="6,0,3,0" KeyboardNavigation.TabIndex="3"
                                                                                        Style="{StaticResource ResourceKey=imageButtonStyle2}"   FontSize="15" >
                                                                                    <Button.Content>
                                                                                        <StackPanel Orientation="Horizontal">
                                                                                            <Image Opacity="0.95" Margin="3" Width="15" VerticalAlignment="Center" HorizontalAlignment="Center" Source="pack://application:,,,/Resources/Images/Common/Remove.ico" ></Image>
                                                                                        </StackPanel>
                                                                                    </Button.Content>
                                                                                </Button>

                                                                                <TextBlock Text="{Binding Path=displayName}" FontWeight="DemiBold" VerticalAlignment="Center" Foreground="{Binding Path=UpperHeaderForeground}" TextTrimming="CharacterEllipsis" ToolTipService.ShowOnDisabled="True"  />

                                                                                
                                                                            </DockPanel>
                                                                        </DataTemplate>
                                                                    </aCtrls:AncDataGridTemplateColumn.CellTemplate>
                                                                </aCtrls:AncDataGridTemplateColumn>
                                                            </aCtrls:AncDataGrid.Columns>

                                                        </aCtrls:AncDataGrid>
                                                    </DockPanel>
                                                </Grid>
                                            </ScrollViewer>
                                        </Border>

                                        <Button Margin="{Binding Path=ActualWidth, RelativeSource={RelativeSource Self}, Converter={StaticResource cMargin}, ConverterParameter=right;-1;-3}" VerticalAlignment="Top" HorizontalAlignment="Right" 
                                                    Command="{Binding Path=AddImageCommand}" Height="31"
                                                    Template="{StaticResource ResourceKey=imageButton3}" Style="{StaticResource ResourceKey=dropDownButton}"
                                                    KeyboardNavigation.IsTabStop="False" >
                                            <Button.Width>
                                                <sys:Double>NaN</sys:Double>
                                            </Button.Width>
                                            <DockPanel Margin="3,0">
                                                <Image Source="pack://application:,,,/Resources/Images/Common/Add.ico" Margin="7" DockPanel.Dock="Left" />

                                                <TextBlock Text="{lan:Translate Section=SDSampleView, Key=AddImage, UIDesignerValue='Add image'}" FontSize="13" VerticalAlignment="Center" Margin="1,1,6,1"  />

                                            </DockPanel>
                                        </Button>
                                        
                                    </Grid>

                                </DockPanel>
                            </StackPanel>
                        </DockPanel>



                        <StackPanel />

                    </DockPanel>
                </ScrollViewer>

                <Border DockPanel.Dock="Top"  Margin="0,30,0,0" Visibility="{Binding Path=IsLoading, Converter={StaticResource cBoolToVisibility}, ConverterParameter=True}"
                        HorizontalAlignment="Center" VerticalAlignment="Top" Background="#CEFFFFFF" BorderBrush="LightGray" BorderThickness="1" SnapsToDevicePixels="True">
                    <StackPanel Orientation="Vertical" Margin="15,7,15,10">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <TextBlock Text="{lan:Translate Section=Common, Key=Loading, UIDesignerValue='Loading...'}" FontWeight="Medium" FontSize="14" Margin="0,0,0,4" />

                        </StackPanel>
                        <ProgressBar IsIndeterminate="True" Height="10" />
                    </StackPanel>

                </Border>
            </Grid>

        </DockPanel>
    </Border>
</UserControl>
